/**
* @author Ramesh Chennupati
* @date 09/09/2011
* @description It is a test class to prove the code coverage of clsAPSService is more than 75%.
*/
@IsTest
private class clsAPSServiceTest{
 
    /**
	* @author Ramesh Chennupati
	* @date 09/09/2011
	* @description It is a test method to get the code coverage of 
	   clsAPSService.changeAssignment(RestRequest,RestResponse) method.
	* @return None
	*/
	private static testmethod void changeAssignmentTest()
	{
	    Opportunity op = new Opportunity();
	    op.stagename='WAITING FOR TRIP CONFIRMATION';
	    op.name='TestOpportunity';
	    op.lot_number__c='testlot';
	    op.closedate=date.today();
	    Account a=new Account();
	    a.firstname='test';
	    a.lastname='testLast';
	    
	    test.startTest();
	    insert a;
	    op.AccountId=a.id;
	    insert op;
	    op=[select id,opportunity_number__c,Copart_Towing_Charge__c,Advance_Miscellaneous_Charge_Description__c,Advance_Miscellaneous_Charges__c,Total_Advance_Charges__c,Accountid,seller_code__c,OwnerId,ACV__c,Has_Keys__c,VIN__c,Veh_Miles__c,StageName,Lot_Number__c,Min_Bid_Price__c,Selling_Price_High_Bid__c,Vehicle_Sale_Date__c,CAS_Model__c,Is_Car_Drivable__c,Make__c,Type_of_Vehicle__c,Year__c from Opportunity where Lot_Number__c='testlot' limit 1];
	    RestRequest rr=new RestRequest();
	    rr.requestBody=blob.valueof('<DispositionChgRq xsi:schemaLocation=\"http://www.cieca.com/BMS http://ws.copart.com/schemas/cieca/BMSDispositionMessages.xsd\" xmlns=\"http://www.cieca.com/BMS\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"><RqUID>70ad89dd-ce1f-4374-a476-5953702a6ae9</RqUID><PartnerKey>041A9A9C-2237-001E-041A-9A9C041A9A9C</PartnerKey><DocumentInfo><BMSVer>2.5.0</BMSVer><DocumentType>S</DocumentType><DocumentVerCode>UP</DocumentVerCode><DocumentVerNum>16</DocumentVerNum><CreateDateTime>2007-03-14T16:20:14.000-07:00</CreateDateTime><ReferenceInfo><StockNum>' + op.Lot_Number__c + '</StockNum><OtherReferenceInfo><OtherReferenceName>LotStage</OtherReferenceName><OtherRefNum>90</OtherRefNum></OtherReferenceInfo><OtherReferenceInfo><OtherReferenceName>JunkProgram</OtherReferenceName><OtherRefNum>N</OtherRefNum></OtherReferenceInfo><OtherReferenceInfo><OtherReferenceName>SalesFee</OtherReferenceName><OtherRefNum>183.75</OtherRefNum></OtherReferenceInfo><OtherReferenceInfo><OtherReferenceName>SalesCategory</OtherReferenceName><OtherRefNum>PIP</OtherRefNum></OtherReferenceInfo></ReferenceInfo><CurrencyInfo><CurCode>USD</CurCode><BaseCurCode>USD</BaseCurCode><CurRate>1.00000</CurRate><CurConvertRule>Direct</CurConvertRule></CurrencyInfo></DocumentInfo><EventInfo><OtherEvent><OtherEventType>Status-TRANCANCEL</OtherEventType><OtherEventDateTime>2011-06-10T05:39:06.000-07:00</OtherEventDateTime><OtherEventMemo>Assignment Cancelled</OtherEventMemo></OtherEvent><OtherEvent><OtherEventType>Event-CANCEL</OtherEventType><OtherEventDateTime>2011-06-10T05:39:06.000-07:00</OtherEventDateTime><OtherEventMemo>Assignment Cancelled</OtherEventMemo></OtherEvent><AssignmentEvent><ReceiveDateTime>2007-03-14T14:37:27.000-07:00</ReceiveDateTime></AssignmentEvent><SalvageEvent><ApprovalToMove><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></ApprovalToMove><ActualPickup><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></ActualPickup><FinalPayment><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></FinalPayment><SellerSettlement><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></SellerSettlement></SalvageEvent></EventInfo><AdminInfo><InsuranceCompany><Party><OrgInfo><CompanyName>Insurance Company Name</CompanyName><IDInfo><IDQualifierCode>InsuranceCompanyCode</IDQualifierCode><IDNum>INSCO</IDNum></IDInfo><IDInfo><IDQualifierCode>InsuranceCompanyAssignmentID</IDQualifierCode><IDNum>' + op.Opportunity_Number__c + '</IDNum></IDInfo></OrgInfo></Party></InsuranceCompany><VehicleLocationSite><Party><OrgInfo><CompanyName>YARD NAME</CompanyName><IDInfo><IDQualifierCode>YardNumber</IDQualifierCode><IDNum>155</IDNum></IDInfo><Communications><CommQualifier>SA</CommQualifier><Address><Address1>Yard Address1.</Address1><City>Yard City</City><StateProvince>CA</StateProvince><PostalCode>94534</PostalCode><CountryCode>USA</CountryCode></Address></Communications><Communications><CommQualifier>WP</CommQualifier><CommPhone>501-7392323</CommPhone></Communications></OrgInfo><ContactInfo><ContactName><FirstName>Yard manager-first</FirstName><LastName>Yard manager-last</LastName></ContactName></ContactInfo></Party></VehicleLocationSite><Sender><Party><OrgInfo><CompanyName>Sender</CompanyName><IDInfo><IDQualifierCode>CopartTaxID</IDQualifierCode><IDNum>Copart-TaxNumber</IDNum></IDInfo></OrgInfo></Party></Sender></AdminInfo><ClaimInfo><ClaimNum>Claim-01</ClaimNum><PolicyInfo><PolicyNum>Policy-01</PolicyNum></PolicyInfo></ClaimInfo><VehicleInfo><VINInfo><VIN><VINNum>1HGCG56412A078110</VINNum></VIN></VINInfo><License><LicensePlateNum>3384980</LicensePlateNum></License><VehicleDesc><ModelYear>2002</ModelYear><MakeCode>HOND</MakeCode><MakeDesc>HONDA</MakeDesc><ModelName>Accord</ModelName><VehicleType>V</VehicleType><OdometerInfo><OdometerInd>true</OdometerInd><OdometerReading>99999</OdometerReading></OdometerInfo><VehicleOptions><Option><OptionCode>Tires</OptionCode><OptionDesc>0</OptionDesc></Option></VehicleOptions><KeysAvailableInd>U</KeysAvailableInd></VehicleDesc><Paint><Exterior><Color><ColorName>CREAM</ColorName></Color></Exterior></Paint><Body><BodyStyle>SEDAN 4D</BodyStyle></Body><Condition><DrivableInd>Y</DrivableInd></Condition><Valuation><ValuationType>ACV</ValuationType><ValuationAmt>6700.00</ValuationAmt></Valuation></VehicleInfo><ServicesInfo><VehicleServices><VehicleService><ServiceRequestCode>PPT</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>PPS</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>PPX</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>ADV</ServiceRequestCode><ChargeInfo><ChargeAmt>764.99</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>SPT</ServiceRequestCode><ChargeInfo><ChargeAmt>149.50</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>SPS</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>TTF</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Advance labor charge</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Yard/Gate charge</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Estimating charge</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Additional fee amount</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Total fees</ServiceDesc><ChargeInfo><ChargeAmt>109.75</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Paid fees</ServiceDesc><ChargeInfo><ChargeAmt>183.75</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Copart Misc Test</ServiceDesc><ChargeInfo><ChargeAmt>109.75</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Balance due</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Paid by seller</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Paid by copart</ServiceDesc><ChargeInfo><ChargeAmt>1041.25</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Daily storage</ServiceDesc><StorageInfo><NumOfDaysInStorage>1</NumOfDaysInStorage><StorageAmtPerDay>0.00</StorageAmtPerDay></StorageInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Advance charges paid</ServiceDesc><PaymentInfo><PayerType>47</PayerType><PaymentType>OT</PaymentType><PaymentAmt>0.00</PaymentAmt></PaymentInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Final payment</ServiceDesc><PaymentInfo><PayerType>47</PayerType><PaymentType>CK</PaymentType><PaymentDateTime>2007-03-14T00:00:00.000-07:00</PaymentDateTime><PaymentAmt>0.00</PaymentAmt><PaymentMemo>1699901</PaymentMemo></PaymentInfo></VehicleService></VehicleServices></ServicesInfo><AuctionInfo><RunNum>1</RunNum><MinimumBidAmt>9900.00</MinimumBidAmt><ApprovalRequiredInd>false</ApprovalRequiredInd><SaleDate>2007-03-14-07:00</SaleDate><ActualSoldAmt>1225.00</ActualSoldAmt><SaleAwardDate>2007-03-14-07:00</SaleAwardDate><BuyerContactInfo><OrgInfo><CompanyName>Buyer Company Name</CompanyName><Communications><CommQualifier>SA</CommQualifier><Address><Address1>Buyer Address1</Address1><City>FAIRFIELD</City><StateProvince>CA</StateProvince><PostalCode>94534</PostalCode><CountryCode>USA</CountryCode></Address></Communications></OrgInfo></BuyerContactInfo></AuctionInfo><TitleInfo><OriginalTitleReceived><TitleCategory>SALVAGE TITLE</TitleCategory><TitleDate>2007-03-14-07:00</TitleDate><TitleDesc>SALVAGE TITLE</TitleDesc><TitleDocumentNum>ARKTEST123</TitleDocumentNum></OriginalTitleReceived><BuyerTitleDelivered><TitleCategory>SALVAGE TITLE</TitleCategory><TitleDate>2007-03-14-07:00</TitleDate></BuyerTitleDelivered><OtherTitles><OtherTitleType>SALVAGE TITLE</OtherTitleType><OtherTitleDate>2007-03-14-07:00</OtherTitleDate><OtherTitleDocumentNum>ARKTEST123</OtherTitleDocumentNum></OtherTitles></TitleInfo></DispositionChgRq>');
	    clsAPSService.changeAssignment(rr,new RestResponse());
	    rr.requestBody=blob.valueof('<DispositionChgRq xsi:schemaLocation=\"http://www.cieca.com/BMS http://ws.copart.com/schemas/cieca/BMSDispositionMessages.xsd\" xmlns=\"http://www.cieca.com/BMS\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"><RqUID>70ad89dd-ce1f-4374-a476-5953702a6ae9</RqUID><PartnerKey>041A9A9C-2237-001E-041A-9A9C041A9A9C</PartnerKey><DocumentInfo><BMSVer>2.5.0</BMSVer><DocumentType>S</DocumentType><DocumentVerCode>UP</DocumentVerCode><DocumentVerNum>16</DocumentVerNum><CreateDateTime>2007-03-14T16:20:14.000-07:00</CreateDateTime><ReferenceInfo><StockNum>' + op.Lot_Number__c + '</StockNum><OtherReferenceInfo><OtherReferenceName>LotStage</OtherReferenceName><OtherRefNum>90</OtherRefNum></OtherReferenceInfo><OtherReferenceInfo><OtherReferenceName>JunkProgram</OtherReferenceName><OtherRefNum>N</OtherRefNum></OtherReferenceInfo><OtherReferenceInfo><OtherReferenceName>SalesFee</OtherReferenceName><OtherRefNum>183.75</OtherRefNum></OtherReferenceInfo><OtherReferenceInfo><OtherReferenceName>SalesCategory</OtherReferenceName><OtherRefNum>PIP</OtherRefNum></OtherReferenceInfo></ReferenceInfo><CurrencyInfo><CurCode>USD</CurCode><BaseCurCode>USD</BaseCurCode><CurRate>1.00000</CurRate><CurConvertRule>Direct</CurConvertRule></CurrencyInfo></DocumentInfo><EventInfo><OtherEvent><OtherEventType>Status-TRANCANCEL</OtherEventType><OtherEventDateTime>2011-06-10T05:39:06.000-07:00</OtherEventDateTime><OtherEventMemo>Assignment Cancelled</OtherEventMemo></OtherEvent><OtherEvent><OtherEventType>Event-CANCEL</OtherEventType><OtherEventDateTime>2011-06-10T05:39:06.000-07:00</OtherEventDateTime><OtherEventMemo>Assignment Cancelled</OtherEventMemo></OtherEvent><AssignmentEvent><ReceiveDateTime>2007-03-14T14:37:27.000-07:00</ReceiveDateTime></AssignmentEvent><SalvageEvent><ApprovalToMove><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></ApprovalToMove><ActualPickup><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></ActualPickup><FinalPayment><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></FinalPayment><SellerSettlement><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></SellerSettlement></SalvageEvent></EventInfo><AdminInfo><InsuranceCompany><Party><OrgInfo><CompanyName>Insurance Company Name</CompanyName><IDInfo><IDQualifierCode>InsuranceCompanyCode</IDQualifierCode><IDNum>INSCO</IDNum></IDInfo><IDInfo><IDQualifierCode>InsuranceCompanyAssignmentID</IDQualifierCode><IDNum>' + op.Opportunity_Number__c + '</IDNum></IDInfo></OrgInfo></Party></InsuranceCompany><VehicleLocationSite><Party><OrgInfo><CompanyName>YARD NAME</CompanyName><IDInfo><IDQualifierCode>YardNumber</IDQualifierCode><IDNum>155</IDNum></IDInfo><Communications><CommQualifier>SA</CommQualifier><Address><Address1>Yard Address1.</Address1><City>Yard City</City><StateProvince>CA</StateProvince><PostalCode>94534</PostalCode><CountryCode>USA</CountryCode></Address></Communications><Communications><CommQualifier>WP</CommQualifier><CommPhone>501-7392323</CommPhone></Communications></OrgInfo><ContactInfo><ContactName><FirstName>Yard manager-first</FirstName><LastName>Yard manager-last</LastName></ContactName></ContactInfo></Party></VehicleLocationSite><Sender><Party><OrgInfo><CompanyName>Sender</CompanyName><IDInfo><IDQualifierCode>CopartTaxID</IDQualifierCode><IDNum>Copart-TaxNumber</IDNum></IDInfo></OrgInfo></Party></Sender></AdminInfo><ClaimInfo><ClaimNum>Claim-01</ClaimNum><PolicyInfo><PolicyNum>Policy-01</PolicyNum></PolicyInfo></ClaimInfo><VehicleInfo><VINInfo><VIN><VINNum>1HGCG56412A078110</VINNum></VIN></VINInfo><License><LicensePlateNum>3384980</LicensePlateNum></License><VehicleDesc><ModelYear>2002</ModelYear><MakeCode>HOND</MakeCode><MakeDesc>HONDA</MakeDesc><ModelName>Accord-exception</ModelName><VehicleType>V</VehicleType><OdometerInfo><OdometerInd>true</OdometerInd><OdometerReading>99999</OdometerReading></OdometerInfo><VehicleOptions><Option><OptionCode>Tires</OptionCode><OptionDesc>0</OptionDesc></Option></VehicleOptions><KeysAvailableInd>U</KeysAvailableInd></VehicleDesc><Paint><Exterior><Color><ColorName>CREAM</ColorName></Color></Exterior></Paint><Body><BodyStyle>SEDAN 4D</BodyStyle></Body><Condition><DrivableInd>Y</DrivableInd></Condition><Valuation><ValuationType>ACV</ValuationType><ValuationAmt>6700.00</ValuationAmt></Valuation></VehicleInfo><ServicesInfo><VehicleServices><VehicleService><ServiceRequestCode>PPT</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>PPS</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>PPX</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>ADV</ServiceRequestCode><ChargeInfo><ChargeAmt>764.99</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>SPT</ServiceRequestCode><ChargeInfo><ChargeAmt>149.50</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>SPS</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>TTF</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Advance labor charge</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Yard/Gate charge</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Estimating charge</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Additional fee amount</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Total fees</ServiceDesc><ChargeInfo><ChargeAmt>109.75</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Paid fees</ServiceDesc><ChargeInfo><ChargeAmt>183.75</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Copart Misc Test</ServiceDesc><ChargeInfo><ChargeAmt>109.75</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Balance due</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Paid by seller</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Paid by copart</ServiceDesc><ChargeInfo><ChargeAmt>1041.25</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Daily storage</ServiceDesc><StorageInfo><NumOfDaysInStorage>1</NumOfDaysInStorage><StorageAmtPerDay>0.00</StorageAmtPerDay></StorageInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Advance charges paid</ServiceDesc><PaymentInfo><PayerType>47</PayerType><PaymentType>OT</PaymentType><PaymentAmt>0.00</PaymentAmt></PaymentInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Final payment</ServiceDesc><PaymentInfo><PayerType>47</PayerType><PaymentType>CK</PaymentType><PaymentDateTime>2007-03-14T00:00:00.000-07:00</PaymentDateTime><PaymentAmt>0.00</PaymentAmt><PaymentMemo>1699901</PaymentMemo></PaymentInfo></VehicleService></VehicleServices></ServicesInfo><AuctionInfo><RunNum>1</RunNum><MinimumBidAmt>9900.00</MinimumBidAmt><ApprovalRequiredInd>false</ApprovalRequiredInd><SaleDate>2007-03-14-07:00</SaleDate><ActualSoldAmt>1225.00</ActualSoldAmt><SaleAwardDate>2007-03-14-07:00</SaleAwardDate><BuyerContactInfo><OrgInfo><CompanyName>Buyer Company Name</CompanyName><Communications><CommQualifier>SA</CommQualifier><Address><Address1>Buyer Address1</Address1><City>FAIRFIELD</City><StateProvince>CA</StateProvince><PostalCode>94534</PostalCode><CountryCode>USA</CountryCode></Address></Communications></OrgInfo></BuyerContactInfo></AuctionInfo><TitleInfo><OriginalTitleReceived><TitleCategory>SALVAGE TITLE</TitleCategory><TitleDate>2007-03-14-07:00</TitleDate><TitleDesc>SALVAGE TITLE</TitleDesc><TitleDocumentNum>ARKTEST123</TitleDocumentNum></OriginalTitleReceived><BuyerTitleDelivered><TitleCategory>SALVAGE TITLE</TitleCategory><TitleDate>2007-03-14-07:00</TitleDate></BuyerTitleDelivered><OtherTitles><OtherTitleType>SALVAGE TITLE</OtherTitleType><OtherTitleDate>2007-03-14-07:00</OtherTitleDate><OtherTitleDocumentNum>ARKTEST123</OtherTitleDocumentNum></OtherTitles></TitleInfo></DispositionChgRq>');
	    clsAPSService.changeAssignment(rr,new RestResponse());
	    rr.requestBody=blob.valueof('<DispositionChgRq xsi:schemaLocation=\"http://www.cieca.com/BMS http://ws.copart.com/schemas/cieca/BMSDispositionMessages.xsd\" xmlns=\"http://www.cieca.com/BMS\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"><RqUID>70ad89dd-ce1f-4374-a476-5953702a6ae9</RqUID><PartnerKey>041A9A9C-2237-001E-041A-9A9C041A9A9C</PartnerKey><DocumentInfo><BMSVer>2.5.0</BMSVer><DocumentType>S</DocumentType><DocumentVerCode>UP</DocumentVerCode><DocumentVerNum>16</DocumentVerNum><CreateDateTime>2007-03-14T16:20:14.000-07:00</CreateDateTime><ReferenceInfo><StockNum>' + op.Lot_Number__c + '</StockNum><OtherReferenceInfo><OtherReferenceName>LotStage</OtherReferenceName><OtherRefNum>90</OtherRefNum></OtherReferenceInfo><OtherReferenceInfo><OtherReferenceName>JunkProgram</OtherReferenceName><OtherRefNum>N</OtherRefNum></OtherReferenceInfo><OtherReferenceInfo><OtherReferenceName>SalesFee</OtherReferenceName><OtherRefNum>183.75</OtherRefNum></OtherReferenceInfo><OtherReferenceInfo><OtherReferenceName>SalesCategory</OtherReferenceName><OtherRefNum>PIP</OtherRefNum></OtherReferenceInfo></ReferenceInfo><CurrencyInfo><CurCode>USD</CurCode><BaseCurCode>USD</BaseCurCode><CurRate>1.00000</CurRate><CurConvertRule>Direct</CurConvertRule></CurrencyInfo></DocumentInfo><EventInfo><OtherEvent><OtherEventType>Status-TRANCANCEL</OtherEventType><OtherEventDateTime>2011-06-10T05:39:06.000-07:00</OtherEventDateTime><OtherEventMemo>Assignment Cancelled</OtherEventMemo></OtherEvent><OtherEvent><OtherEventType>Event-CANCEL</OtherEventType><OtherEventDateTime>2011-06-10T05:39:06.000-07:00</OtherEventDateTime><OtherEventMemo>Assignment Cancelled</OtherEventMemo></OtherEvent><AssignmentEvent><ReceiveDateTime>2007-03-14T14:37:27.000-07:00</ReceiveDateTime></AssignmentEvent><SalvageEvent><ApprovalToMove><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></ApprovalToMove><ActualPickup><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></ActualPickup><FinalPayment><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></FinalPayment><SellerSettlement><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></SellerSettlement></SalvageEvent></EventInfo><AdminInfo><InsuranceCompany><Party><OrgInfo><CompanyName>Insurance Company Name</CompanyName><IDInfo><IDQualifierCode>InsuranceCompanyCode</IDQualifierCode><IDNum>INSCO</IDNum></IDInfo><IDInfo><IDQualifierCode>InsuranceCompanyAssignmentID</IDQualifierCode><IDNum>' + op.Opportunity_Number__c + '</IDNum></IDInfo></OrgInfo></Party></InsuranceCompany><VehicleLocationSite><Party><OrgInfo><CompanyName>YARD NAME</CompanyName><IDInfo><IDQualifierCode>YardNumber</IDQualifierCode><IDNum>155</IDNum></IDInfo><Communications><CommQualifier>SA</CommQualifier><Address><Address1>Yard Address1.</Address1><City>Yard City</City><StateProvince>CA</StateProvince><PostalCode>94534</PostalCode><CountryCode>USA</CountryCode></Address></Communications><Communications><CommQualifier>WP</CommQualifier><CommPhone>501-7392323</CommPhone></Communications></OrgInfo><ContactInfo><ContactName><FirstName>Yard manager-first</FirstName><LastName>Yard manager-last</LastName></ContactName></ContactInfo></Party></VehicleLocationSite><Sender><Party><OrgInfo><CompanyName>Sender</CompanyName><IDInfo><IDQualifierCode>CopartTaxID</IDQualifierCode><IDNum>Copart-TaxNumber</IDNum></IDInfo></OrgInfo></Party></Sender></AdminInfo><ClaimInfo><ClaimNum>Claim-01</ClaimNum><PolicyInfo><PolicyNum>Policy-01</PolicyNum></PolicyInfo></ClaimInfo><VehicleInfo><VINInfo><VIN><VINNum>1HGCG56412A078110</VINNum></VIN></VINInfo><License><LicensePlateNum>3384980</LicensePlateNum></License><VehicleDesc><ModelYear>20</ModelYear><MakeCode>HOND</MakeCode><MakeDesc>HONDA</MakeDesc><ModelName>Accord</ModelName><VehicleType>V</VehicleType><OdometerInfo><OdometerInd>true</OdometerInd><OdometerReading>99999</OdometerReading></OdometerInfo><VehicleOptions><Option><OptionCode>Tires</OptionCode><OptionDesc>0</OptionDesc></Option></VehicleOptions><KeysAvailableInd>U</KeysAvailableInd></VehicleDesc><Paint><Exterior><Color><ColorName>CREAM</ColorName></Color></Exterior></Paint><Body><BodyStyle>SEDAN 4D</BodyStyle></Body><Condition><DrivableInd>Y</DrivableInd></Condition><Valuation><ValuationType>ACV</ValuationType><ValuationAmt>6700.00</ValuationAmt></Valuation></VehicleInfo><ServicesInfo><VehicleServices><VehicleService><ServiceRequestCode>PPT</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>PPS</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>PPX</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>ADV</ServiceRequestCode><ChargeInfo><ChargeAmt>764.99</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>SPT</ServiceRequestCode><ChargeInfo><ChargeAmt>149.50</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>SPS</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>TTF</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Advance labor charge</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Yard/Gate charge</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Estimating charge</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Additional fee amount</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Total fees</ServiceDesc><ChargeInfo><ChargeAmt>109.75</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Paid fees</ServiceDesc><ChargeInfo><ChargeAmt>183.75</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Copart Misc Test</ServiceDesc><ChargeInfo><ChargeAmt>109.75</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Balance due</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Paid by seller</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Paid by copart</ServiceDesc><ChargeInfo><ChargeAmt>1041.25</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Daily storage</ServiceDesc><StorageInfo><NumOfDaysInStorage>1</NumOfDaysInStorage><StorageAmtPerDay>0.00</StorageAmtPerDay></StorageInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Advance charges paid</ServiceDesc><PaymentInfo><PayerType>47</PayerType><PaymentType>OT</PaymentType><PaymentAmt>0.00</PaymentAmt></PaymentInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Final payment</ServiceDesc><PaymentInfo><PayerType>47</PayerType><PaymentType>CK</PaymentType><PaymentDateTime>2007-03-14T00:00:00.000-07:00</PaymentDateTime><PaymentAmt>0.00</PaymentAmt><PaymentMemo>1699901</PaymentMemo></PaymentInfo></VehicleService></VehicleServices></ServicesInfo><AuctionInfo><RunNum>1</RunNum><MinimumBidAmt>9900.00</MinimumBidAmt><ApprovalRequiredInd>false</ApprovalRequiredInd><SaleDate>2007-03-14-07:00</SaleDate><ActualSoldAmt>1225.00</ActualSoldAmt><SaleAwardDate>2007-03-14-07:00</SaleAwardDate><BuyerContactInfo><OrgInfo><CompanyName>Buyer Company Name</CompanyName><Communications><CommQualifier>SA</CommQualifier><Address><Address1>Buyer Address1</Address1><City>FAIRFIELD</City><StateProvince>CA</StateProvince><PostalCode>94534</PostalCode><CountryCode>USA</CountryCode></Address></Communications></OrgInfo></BuyerContactInfo></AuctionInfo><TitleInfo><OriginalTitleReceived><TitleCategory>SALVAGE TITLE</TitleCategory><TitleDate>2007-03-14-07:00</TitleDate><TitleDesc>SALVAGE TITLE</TitleDesc><TitleDocumentNum>ARKTEST123</TitleDocumentNum></OriginalTitleReceived><BuyerTitleDelivered><TitleCategory>SALVAGE TITLE</TitleCategory><TitleDate>2007-03-14-07:00</TitleDate></BuyerTitleDelivered><OtherTitles><OtherTitleType>SALVAGE TITLE</OtherTitleType><OtherTitleDate>2007-03-14-07:00</OtherTitleDate><OtherTitleDocumentNum>ARKTEST123</OtherTitleDocumentNum></OtherTitles></TitleInfo></DispositionChgRq>');
	    clsAPSService.changeAssignment(rr,new RestResponse());
	    rr.requestBody=blob.valueof('DispositionChgRq xsi:schemaLocation=\"http://www.cieca.com/BMS http://ws.copart.com/schemas/cieca/BMSDispositionMessages.xsd\" xmlns=\"http://www.cieca.com/BMS\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"><RqUID>70ad89dd-ce1f-4374-a476-5953702a6ae9</RqUID><PartnerKey>041A9A9C-2237-001E-041A-9A9C041A9A9C</PartnerKey><DocumentInfo><BMSVer>2.5.0</BMSVer><DocumentType>S</DocumentType><DocumentVerCode>UP</DocumentVerCode><DocumentVerNum>16</DocumentVerNum><CreateDateTime>2007-03-14T16:20:14.000-07:00</CreateDateTime><ReferenceInfo><StockNum>' + op.Lot_Number__c + '</StockNum><OtherReferenceInfo><OtherReferenceName>LotStage</OtherReferenceName><OtherRefNum>90</OtherRefNum></OtherReferenceInfo><OtherReferenceInfo><OtherReferenceName>JunkProgram</OtherReferenceName><OtherRefNum>N</OtherRefNum></OtherReferenceInfo><OtherReferenceInfo><OtherReferenceName>SalesFee</OtherReferenceName><OtherRefNum>183.75</OtherRefNum></OtherReferenceInfo><OtherReferenceInfo><OtherReferenceName>SalesCategory</OtherReferenceName><OtherRefNum>PIP</OtherRefNum></OtherReferenceInfo></ReferenceInfo><CurrencyInfo><CurCode>USD</CurCode><BaseCurCode>USD</BaseCurCode><CurRate>1.00000</CurRate><CurConvertRule>Direct</CurConvertRule></CurrencyInfo></DocumentInfo><EventInfo><OtherEvent><OtherEventType>Status-TRANCANCEL</OtherEventType><OtherEventDateTime>2011-06-10T05:39:06.000-07:00</OtherEventDateTime><OtherEventMemo>Assignment Cancelled</OtherEventMemo></OtherEvent><OtherEvent><OtherEventType>Event-CANCEL</OtherEventType><OtherEventDateTime>2011-06-10T05:39:06.000-07:00</OtherEventDateTime><OtherEventMemo>Assignment Cancelled</OtherEventMemo></OtherEvent><AssignmentEvent><ReceiveDateTime>2007-03-14T14:37:27.000-07:00</ReceiveDateTime></AssignmentEvent><SalvageEvent><ApprovalToMove><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></ApprovalToMove><ActualPickup><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></ActualPickup><FinalPayment><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></FinalPayment><SellerSettlement><EventDateTime>2007-03-14T00:00:00.000-07:00</EventDateTime></SellerSettlement></SalvageEvent></EventInfo><AdminInfo><InsuranceCompany><Party><OrgInfo><CompanyName>Insurance Company Name</CompanyName><IDInfo><IDQualifierCode>InsuranceCompanyCode</IDQualifierCode><IDNum>INSCO</IDNum></IDInfo><IDInfo><IDQualifierCode>InsuranceCompanyAssignmentID</IDQualifierCode><IDNum>' + op.Opportunity_Number__c + '</IDNum></IDInfo></OrgInfo></Party></InsuranceCompany><VehicleLocationSite><Party><OrgInfo><CompanyName>YARD NAME</CompanyName><IDInfo><IDQualifierCode>YardNumber</IDQualifierCode><IDNum>155</IDNum></IDInfo><Communications><CommQualifier>SA</CommQualifier><Address><Address1>Yard Address1.</Address1><City>Yard City</City><StateProvince>CA</StateProvince><PostalCode>94534</PostalCode><CountryCode>USA</CountryCode></Address></Communications><Communications><CommQualifier>WP</CommQualifier><CommPhone>501-7392323</CommPhone></Communications></OrgInfo><ContactInfo><ContactName><FirstName>Yard manager-first</FirstName><LastName>Yard manager-last</LastName></ContactName></ContactInfo></Party></VehicleLocationSite><Sender><Party><OrgInfo><CompanyName>Sender</CompanyName><IDInfo><IDQualifierCode>CopartTaxID</IDQualifierCode><IDNum>Copart-TaxNumber</IDNum></IDInfo></OrgInfo></Party></Sender></AdminInfo><ClaimInfo><ClaimNum>Claim-01</ClaimNum><PolicyInfo><PolicyNum>Policy-01</PolicyNum></PolicyInfo></ClaimInfo><VehicleInfo><VINInfo><VIN><VINNum>1HGCG56412A078110</VINNum></VIN></VINInfo><License><LicensePlateNum>3384980</LicensePlateNum></License><VehicleDesc><ModelYear>2002</ModelYear><MakeCode>HOND</MakeCode><MakeDesc>HONDA</MakeDesc><ModelName>Accord</ModelName><VehicleType>V</VehicleType><OdometerInfo><OdometerInd>true</OdometerInd><OdometerReading>99999</OdometerReading></OdometerInfo><VehicleOptions><Option><OptionCode>Tires</OptionCode><OptionDesc>0</OptionDesc></Option></VehicleOptions><KeysAvailableInd>U</KeysAvailableInd></VehicleDesc><Paint><Exterior><Color><ColorName>CREAM</ColorName></Color></Exterior></Paint><Body><BodyStyle>SEDAN 4D</BodyStyle></Body><Condition><DrivableInd>Y</DrivableInd></Condition><Valuation><ValuationType>ACV</ValuationType><ValuationAmt>6700.00</ValuationAmt></Valuation></VehicleInfo><ServicesInfo><VehicleServices><VehicleService><ServiceRequestCode>PPT</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>PPS</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>PPX</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>ADV</ServiceRequestCode><ChargeInfo><ChargeAmt>764.99</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>SPT</ServiceRequestCode><ChargeInfo><ChargeAmt>149.50</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>SPS</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>TTF</ServiceRequestCode><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Advance labor charge</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Yard/Gate charge</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Estimating charge</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Additional fee amount</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Total fees</ServiceDesc><ChargeInfo><ChargeAmt>109.75</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Paid fees</ServiceDesc><ChargeInfo><ChargeAmt>183.75</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Copart Misc Test</ServiceDesc><ChargeInfo><ChargeAmt>109.75</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Balance due</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Paid by seller</ServiceDesc><ChargeInfo><ChargeAmt>0.00</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Paid by copart</ServiceDesc><ChargeInfo><ChargeAmt>1041.25</ChargeAmt></ChargeInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Daily storage</ServiceDesc><StorageInfo><NumOfDaysInStorage>1</NumOfDaysInStorage><StorageAmtPerDay>0.00</StorageAmtPerDay></StorageInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Advance charges paid</ServiceDesc><PaymentInfo><PayerType>47</PayerType><PaymentType>OT</PaymentType><PaymentAmt>0.00</PaymentAmt></PaymentInfo></VehicleService><VehicleService><ServiceRequestCode>MSC</ServiceRequestCode><ServiceDesc>Final payment</ServiceDesc><PaymentInfo><PayerType>47</PayerType><PaymentType>CK</PaymentType><PaymentDateTime>2007-03-14T00:00:00.000-07:00</PaymentDateTime><PaymentAmt>0.00</PaymentAmt><PaymentMemo>1699901</PaymentMemo></PaymentInfo></VehicleService></VehicleServices></ServicesInfo><AuctionInfo><RunNum>1</RunNum><MinimumBidAmt>9900.00</MinimumBidAmt><ApprovalRequiredInd>false</ApprovalRequiredInd><SaleDate>2007-03-14-07:00</SaleDate><ActualSoldAmt>1225.00</ActualSoldAmt><SaleAwardDate>2007-03-14-07:00</SaleAwardDate><BuyerContactInfo><OrgInfo><CompanyName>Buyer Company Name</CompanyName><Communications><CommQualifier>SA</CommQualifier><Address><Address1>Buyer Address1</Address1><City>FAIRFIELD</City><StateProvince>CA</StateProvince><PostalCode>94534</PostalCode><CountryCode>USA</CountryCode></Address></Communications></OrgInfo></BuyerContactInfo></AuctionInfo><TitleInfo><OriginalTitleReceived><TitleCategory>SALVAGE TITLE</TitleCategory><TitleDate>2007-03-14-07:00</TitleDate><TitleDesc>SALVAGE TITLE</TitleDesc><TitleDocumentNum>ARKTEST123</TitleDocumentNum></OriginalTitleReceived><BuyerTitleDelivered><TitleCategory>SALVAGE TITLE</TitleCategory><TitleDate>2007-03-14-07:00</TitleDate></BuyerTitleDelivered><OtherTitles><OtherTitleType>SALVAGE TITLE</OtherTitleType><OtherTitleDate>2007-03-14-07:00</OtherTitleDate><OtherTitleDocumentNum>ARKTEST123</OtherTitleDocumentNum></OtherTitles></TitleInfo></DispositionChgRq>');
	    clsAPSService.changeAssignment(rr,new RestResponse());
	    
	    test.stopTest();
	    
	    system.assertNotEquals(null, op.id);
	}
}